"use strict";var K=Object.defineProperty,z=(g,l,a)=>l in g?K(g,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):g[l]=a,i=(g,l,a)=>(z(g,"symbol"!=typeof l?l+"":l,a),a);(self.webpackChunktenax=self.webpackChunktenax||[]).push([[651],{4651:(g,l,a)=>{a.r(l),a.d(l,{ServidoresModule:()=>v});var d=a(8583),c=a(2955),x=a(8002),y=a(9484),C=a(7519),e=a(639),P=a(6800),s=a(665);const U=function(n){return{active:n}};function S(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li",5),e.TgZ(1,"a",6),e.NdJ("click",function(){const u=e.CHM(t).index;return e.oxw(2).navigate(u)}),e._uU(2),e.qZA(),e.qZA()}if(2&n){const t=r.index,o=e.oxw(2);e.Q6J("ngClass",e.VKq(2,U,t==o.currentPage)),e.xp6(2),e.Oqu(t+1)}}const J=function(){return[]};function k(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"nav"),e.TgZ(1,"ul",1),e.TgZ(2,"li",2),e.NdJ("click",function(){return e.CHM(t),e.oxw().previous()}),e.TgZ(3,"a",3),e._uU(4,"Anterior"),e.qZA(),e.qZA(),e.YNc(5,S,3,4,"li",4),e.TgZ(6,"li",2),e.NdJ("click",function(){return e.CHM(t),e.oxw().next()}),e.TgZ(7,"a",3),e._uU(8,"Pr\xf3ximo"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",e.DdM(1,J).constructor(t.totalPages))}}const T=class{constructor(r,t){i(this,"route"),i(this,"router"),i(this,"displayPage",new e.vpe),i(this,"totalPages"),i(this,"indexPage","page"),i(this,"currentPage",0),this.route=r,this.router=t}ngOnInit(){this.route.queryParamMap.subscribe(r=>{r.has("page")&&(this.currentPage=parseInt(r.get(this.indexPage)),this.currentPage=this.currentPage>=0?this.currentPage:0,this.displayPage.emit(this.currentPage))})}next(){let r=this.currentPage+1;r=r>=this.totalPages?this.totalPages-1:r,this.router.navigate([],{queryParams:this.queryParam(r)})}previous(){let r=this.currentPage-1;r=r<0?0:r,this.router.navigate([],{queryParams:this.queryParam(r)})}navigate(r){this.router.navigate([],{queryParams:this.queryParam(r)})}queryParam(r){return Object.fromEntries((new Map).set(this.indexPage,r))}};let f=T;i(f,"\u0275fac",function(t){return new(t||T)(e.Y36(c.gz),e.Y36(c.F0))}),i(f,"\u0275cmp",e.Xpm({type:T,selectors:[["app-pagination"]],inputs:{totalPages:"totalPages",indexPage:["index","indexPage"]},outputs:{displayPage:"displayPage"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"pagination"],[1,"page-item",3,"click"],["href","javascript:void(0)",1,"page-link"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item",3,"ngClass"],[1,"page-link",3,"click"]],template:function(t,o){1&t&&e.YNc(0,k,9,2,"nav",0),2&t&&e.Q6J("ngIf",o.totalPages>1)},directives:[d.O5,d.sg,d.mk],styles:[""]}));const I=function(n){return[n,"edit"]};function N(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"strong"),e._uU(3),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"small",19),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"td",20),e.TgZ(8,"button",21),e.TgZ(9,"span",22),e._UZ(10,"i",23),e.qZA(),e.TgZ(11,"span",9),e._uU(12,"Editar"),e.qZA(),e.qZA(),e.TgZ(13,"button",24),e.NdJ("click",function(){const u=e.CHM(t).$implicit;return e.oxw().deleteServidor(u)}),e.TgZ(14,"span",22),e._UZ(15,"i",25),e.qZA(),e.TgZ(16,"span",9),e._uU(17,"Excluir"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=r.$implicit;e.xp6(3),e.Oqu(t.nome),e.xp6(3),e.AsE("",t.descricao," - ",t.setor.descricao,""),e.xp6(2),e.Q6J("routerLink",e.VKq(4,I,t.id))}}const h=class{constructor(r,t){i(this,"servidorService"),i(this,"formBuilder"),i(this,"totalPages",0),i(this,"servidores"),i(this,"formFilter"),this.servidorService=r,this.formBuilder=t}ngOnInit(){this.buildFormFilter(),this.carregarServidores(),this.formFilter.get("nome-filter")?.valueChanges.pipe((0,x.U)(r=>r.trim()),(0,y.b)(200),(0,C.x)()).subscribe(r=>this.carregarServidores(r))}displayPage(r){let t=this.formFilter.get("nome-filter")?.value??"";this.carregarServidores(t,r)}deleteServidor(r){confirm("Deseja realmente excluir este Servidor ?")&&this.servidorService.delete(r.id).subscribe(()=>this.servidores=this.servidores.filter(t=>t!=r),()=>alert("Erro ao deletar servidor"))}carregarServidores(r="",t=0){this.servidorService.findByNome(r,t).subscribe(o=>{this.servidores=o.content,this.totalPages=o.totalPages})}buildFormFilter(){this.formFilter=this.formBuilder.group({"nome-filter":[null]})}};let b=h;i(b,"\u0275fac",function(t){return new(t||h)(e.Y36(P.L),e.Y36(s.qu))}),i(b,"\u0275cmp",e.Xpm({type:h,selectors:[["app-servidores-list"]],decls:30,vars:3,consts:[[1,"mt-3","p-4","pb-3","pt-3","mb-3","mb-md-5",2,"background-color","rgba(155,155,155,0.1)"],[1,"breadcrumb","m-0"],[1,"breadcrumb-item"],["routerLink","/"],[1,"breadcrumb-item","active"],[1,"row","m-0","p-0","mb-3"],[1,"col-6","p-0"],[1,"col-6","p-0","d-flex","justify-content-end"],["routerLink","new","type","button",1,"btn","btn-success","align-self-center","d-flex"],[1,"d-none","d-sm-block"],[1,"m-0","p-0"],[3,"formGroup"],["formControlName","nome-filter","id","nome","type","text","placeholder","Exp: Fulano",1,"form-control"],[1,"table","table-hover"],[1,"bg-primary","text-white"],[1,"text-center"],[1,"border-top-0"],[4,"ngFor","ngForOf"],[3,"totalPages","displayPage"],[1,"text-muted"],[1,"text-center","btn-actions"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"routerLink"],[1,"d-block","d-sm-none"],[1,"bi","bi-pencil-square"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"bi","bi-trash3-fill"]],template:function(t,o){1&t&&(e.TgZ(0,"nav",0),e.TgZ(1,"ol",1),e.TgZ(2,"li",2),e.TgZ(3,"a",3),e._uU(4,"Home"),e.qZA(),e.qZA(),e.TgZ(5,"li",4),e._uU(6," Servidores "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",5),e.TgZ(8,"div",6),e.TgZ(9,"h2"),e._uU(10," Servidores "),e.qZA(),e.qZA(),e.TgZ(11,"div",7),e.TgZ(12,"a",8),e._uU(13,"+ Novo \xa0"),e.TgZ(14,"span",9),e._uU(15,"servidor"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",5),e.TgZ(17,"div",10),e.TgZ(18,"form",11),e._UZ(19,"input",12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"table",13),e.TgZ(21,"thead"),e.TgZ(22,"tr",14),e.TgZ(23,"th"),e._uU(24,"Servidor"),e.qZA(),e.TgZ(25,"th",15),e._uU(26,"A\xe7\xf5es"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"tbody",16),e.YNc(28,N,18,6,"tr",17),e.qZA(),e.qZA(),e.TgZ(29,"app-pagination",18),e.NdJ("displayPage",function(u){return o.displayPage(u)}),e.qZA()),2&t&&(e.xp6(18),e.Q6J("formGroup",o.formFilter),e.xp6(10),e.Q6J("ngForOf",o.servidores),e.xp6(1),e.Q6J("totalPages",o.totalPages))},directives:[c.yS,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,d.sg,f,c.rH],styles:[""]}));var Q=a(1868),O=a(6067),L=a(3772);function Y(n,r){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.descricao," ")}}function w(n,r){if(1&n&&(e.TgZ(0,"div",32),e.YNc(1,Y,2,1,"li",33),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.errors)}}function E(n,r){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.descricao)}}const F=function(n){return{"is-invalid":n}},j=function(n,r){return{"btn-success":n,"btn-primary":r}},q=class extends Q.D{constructor(r,t,o,m,u){super(o,m,u),i(this,"formBuilder"),i(this,"setorService"),i(this,"servidorService"),i(this,"route"),i(this,"router"),i(this,"servidor"),i(this,"servidorForm"),i(this,"setores"),this.formBuilder=r,this.setorService=t,this.servidorService=o,this.route=m,this.router=u,super.setListPath("servidores")}carregaSetores(){return this.setorService.getAll().pipe((0,x.U)(r=>{this.setores=r}))}carregarServidor(){super.load().subscribe(r=>{this.servidor=r,this.servidorForm.patchValue(r),this.servidorForm.get("setorId")?.setValue(r.setor.id)})}buildServidorForm(){this.servidorForm=this.formBuilder.group({id:[null],nome:[null,[s.kI.required,s.kI.minLength(2)]],descricao:[null,[s.kI.required,s.kI.minLength(2)]],setorId:[null,[s.kI.required]]})}ngOnInit(){super.ngOnInit(),this.buildServidorForm(),super.setForm(this.servidorForm),this.carregaSetores().subscribe(()=>{this.carregarServidor()})}};let p=q;i(p,"\u0275fac",function(t){return new(t||q)(e.Y36(s.qu),e.Y36(O.q),e.Y36(P.L),e.Y36(c.gz),e.Y36(c.F0))}),i(p,"\u0275cmp",e.Xpm({type:q,selectors:[["app-servidor-form"]],features:[e.qOj],decls:49,vars:30,consts:[[1,"mt-3","p-4","pb-3","pt-3","mb-3","mb-md-5",2,"background-color","rgba(155,155,155,0.1)"],[1,"breadcrumb","m-0"],[1,"breadcrumb-item"],["routerLink","/"],["routerLink","/servidores"],[1,"breadcrumb-item","active"],[1,"row","m-0","p-0","mb-3"],[1,"col-12","col-md-6","p-0"],[1,"row","col-md-6","m-0"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"p-0",3,"formGroup","ngSubmit"],[1,"card"],[1,"card-body"],[1,"mb-3","d-flex","align-items-center"],["for","id",1,"me-3","me-sm-0","col-sm-2"],[2,"width","70px"],["type","text","formControlName","id","readonly","","id","id",1,"form-control","ms-1",3,"value"],[1,"mb-3","row"],["for","nome",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["id","nome","type","text","formControlName","nome","placeholder","Exp: Fulano",1,"form-control",3,"ngClass"],[3,"fm","name","label"],["for","descricao",1,"col-sm-2","col-form-label"],["id","descricao","type","text","formControlName","descricao","placeholder","Exp: Pro-ativo e comunicativo",1,"form-control",3,"ngClass"],[1,"mb-12","row"],["for","setorId",1,"col-sm-2","col-form-label"],["id","setorId","formControlName","setorId",1,"form-select","form-select","mb-3",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","m-0","p-0"],["type","submit",1,"btn","align-self-center","w-auto","mt-3",3,"disabled","ngClass"],["routerLink","/servidores","type","button",1,"btn","w-auto","mt-3","btn-light","ms-2"],[1,"bi","bi-arrow-left"],["role","alert",1,"alert","alert-danger"],[4,"ngFor","ngForOf"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"nav",0),e.TgZ(1,"ol",1),e.TgZ(2,"li",2),e.TgZ(3,"a",3),e._uU(4,"Home"),e.qZA(),e.qZA(),e.TgZ(5,"li",2),e.TgZ(6,"a",4),e._uU(7,"Servidores"),e.qZA(),e.qZA(),e.TgZ(8,"li",5),e._uU(9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",6),e.TgZ(11,"div",7),e.TgZ(12,"h2"),e._uU(13),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",8),e.YNc(15,w,2,1,"div",9),e.TgZ(16,"form",10),e.NdJ("ngSubmit",function(){return o.save()}),e.TgZ(17,"div",11),e.TgZ(18,"div",12),e.TgZ(19,"div",13),e.TgZ(20,"label",14),e._uU(21,"ID"),e.qZA(),e.TgZ(22,"div",15),e._UZ(23,"input",16),e.qZA(),e.qZA(),e.TgZ(24,"div",17),e.TgZ(25,"label",18),e._uU(26,"Nome *"),e.qZA(),e.TgZ(27,"div",19),e._UZ(28,"input",20),e._UZ(29,"app-error",21),e.qZA(),e.qZA(),e.TgZ(30,"div",17),e.TgZ(31,"label",22),e._uU(32,"Descri\xe7\xe3o *"),e.qZA(),e.TgZ(33,"div",19),e._UZ(34,"input",23),e._UZ(35,"app-error",21),e.qZA(),e.qZA(),e.TgZ(36,"div",24),e.TgZ(37,"label",25),e._uU(38,"Setor *"),e.qZA(),e.TgZ(39,"div",19),e.TgZ(40,"select",26),e.YNc(41,E,2,2,"option",27),e.qZA(),e._UZ(42,"app-error",21),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"div",28),e.TgZ(44,"button",29),e._uU(45),e.qZA(),e.TgZ(46,"a",30),e._UZ(47,"i",31),e._uU(48," Voltar "),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(9),e.hij(" ",o.crumbTitle," "),e.xp6(4),e.hij(" ",o.pageTitle," servidor "),e.xp6(2),e.Q6J("ngIf",o.errors.length>0),e.xp6(1),e.Q6J("formGroup",o.servidorForm),e.xp6(7),e.Q6J("value",null==o.servidor?null:o.servidor.id),e.xp6(5),e.Q6J("ngClass",e.VKq(21,F,o.validations.validField("nome",o.servidorForm))),e.xp6(1),e.Q6J("fm",o.servidorForm)("name","nome")("label","nome"),e.xp6(5),e.Q6J("ngClass",e.VKq(23,F,o.validations.validField("descricao",o.servidorForm))),e.xp6(1),e.Q6J("fm",o.servidorForm)("name","descricao")("label","descricao"),e.xp6(5),e.Q6J("ngClass",e.VKq(25,F,o.validations.validField("setor",o.servidorForm))),e.xp6(1),e.Q6J("ngForOf",o.setores),e.xp6(1),e.Q6J("fm",o.servidorForm)("name","setorId")("label","setorId"),e.xp6(2),e.Q6J("disabled",o.submitForm||!o.servidorForm.valid)("ngClass",e.WLB(27,j,"new"==o.currentAction,"edit"==o.currentAction)),e.xp6(1),e.hij(" ",o.btnSubmit," "))},directives:[c.yS,d.O5,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,d.mk,L.q,s.EJ,d.sg,s.YN,s.Kr],styles:[""]}));const B=[{path:"",component:b},{path:"new",component:p},{path:":id/edit",component:p}],A=class{};let Z=A;i(Z,"\u0275fac",function(t){return new(t||A)}),i(Z,"\u0275mod",e.oAB({type:A})),i(Z,"\u0275inj",e.cJS({imports:[[c.Bz.forChild(B)],c.Bz]}));var V=a(4466);const _=class{};let v=_;i(v,"\u0275fac",function(t){return new(t||_)}),i(v,"\u0275mod",e.oAB({type:_})),i(v,"\u0275inj",e.cJS({imports:[[d.ez,Z,V.m]]}))}}]);