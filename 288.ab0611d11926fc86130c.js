"use strict";(self.webpackChunktenax=self.webpackChunktenax||[]).push([[288],{1532:(L,v,n)=>{n.r(v),n.d(v,{ServidoresModule:()=>x});var d=n(8583),l=n(2955),r=n(639),Z=n(6800);const g=function(o){return[o,"edit"]};function b(o,i){if(1&o){const e=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r.TgZ(2,"strong"),r._uU(3),r.qZA(),r._UZ(4,"br"),r.TgZ(5,"small",14),r._uU(6),r.qZA(),r.qZA(),r.TgZ(7,"td",11),r.TgZ(8,"button",15),r._uU(9,"Editar"),r.qZA(),r.TgZ(10,"button",16),r.NdJ("click",function(){const a=r.CHM(e).$implicit;return r.oxw().deleteServidor(a)}),r._uU(11,"Excluir"),r.qZA(),r.qZA(),r.qZA()}if(2&o){const e=i.$implicit;r.xp6(3),r.AsE("",e.nome," - ",e.setor.descricao,""),r.xp6(3),r.Oqu(e.descricao),r.xp6(2),r.Q6J("routerLink",r.VKq(4,g,e.id))}}let f=(()=>{class o{constructor(e){this.servidorService=e}ngOnInit(){this.servidorService.getAll().subscribe(e=>this.servidores=e,e=>console.log(e))}deleteServidor(e){confirm("Deseja realmente excluir este Servidor ?")&&this.servidorService.delete(e.id).subscribe(()=>this.servidores=this.servidores.filter(t=>t!=e),()=>alert("Erro ao deletar servidor"))}}return o.\u0275fac=function(e){return new(e||o)(r.Y36(Z.L))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-servidores-list"]],decls:23,vars:1,consts:[[1,"mt-3","p-4","pb-3","pt-3","mb-5",2,"background-color","rgba(155,155,155,0.1)"],[1,"breadcrumb","m-0"],[1,"breadcrumb-item"],["routerLink","/"],[1,"breadcrumb-item","active"],[1,"row","m-0","p-0","mb-3"],[1,"col-12","col-md-6","p-0"],[1,"col-12","col-md-6","p-0","d-flex","justify-content-end"],["routerLink","new","type","button",1,"btn","btn-success","align-self-center"],[1,"table","table-hover"],[1,"bg-primary","text-white"],[1,"text-center"],[1,"border-top-0"],[4,"ngFor","ngForOf"],[1,"text-muted"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"routerLink"],[1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(e,t){1&e&&(r.TgZ(0,"nav",0),r.TgZ(1,"ol",1),r.TgZ(2,"li",2),r.TgZ(3,"a",3),r._uU(4,"Home"),r.qZA(),r.qZA(),r.TgZ(5,"li",4),r._uU(6," Servidores "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",5),r.TgZ(8,"div",6),r.TgZ(9,"h2"),r._uU(10," Servidores "),r.qZA(),r.qZA(),r.TgZ(11,"div",7),r.TgZ(12,"a",8),r._uU(13,"+ Novo servidor"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(14,"table",9),r.TgZ(15,"thead"),r.TgZ(16,"tr",10),r.TgZ(17,"th"),r._uU(18,"Servidor"),r.qZA(),r.TgZ(19,"th",11),r._uU(20,"A\xe7\xf5es"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(21,"tbody",12),r.YNc(22,b,12,6,"tr",13),r.qZA(),r.qZA()),2&e&&(r.xp6(22),r.Q6J("ngForOf",t.servidores))},directives:[l.yS,d.sg,l.rH],styles:[""]}),o})();var T=n(1868),s=n(665),A=n(8002),q=n(6067),h=n(3772);function S(o,i){if(1&o&&(r.TgZ(0,"li"),r._uU(1),r.qZA()),2&o){const e=i.$implicit;r.xp6(1),r.hij(" ",e.descricao," ")}}function F(o,i){if(1&o&&(r.TgZ(0,"div",31),r.YNc(1,S,2,1,"li",32),r.qZA()),2&o){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.errors)}}function C(o,i){if(1&o&&(r.TgZ(0,"option",33),r._uU(1),r.qZA()),2&o){const e=i.$implicit;r.Q6J("value",e.id),r.xp6(1),r.Oqu(e.descricao)}}const c=function(o){return{"is-invalid":o}},U=function(o,i){return{"btn-success":o,"btn-primary":i}};let p=(()=>{class o extends T.D{constructor(e,t,m,a,u){super(m,a,u),this.formBuilder=e,this.setorService=t,this.servidorService=m,this.route=a,this.router=u,super.setListPath("servidores")}carregaSetores(){return this.setorService.getAll().pipe((0,A.U)(e=>{this.setores=e}))}carregarServidor(){super.load().subscribe(e=>{var t;this.servidor=e,this.servidorForm.patchValue(e),null===(t=this.servidorForm.get("setorId"))||void 0===t||t.setValue(e.setor.id)})}buildServidorForm(){this.servidorForm=this.formBuilder.group({id:[null],nome:[null,[s.kI.required,s.kI.minLength(2)]],descricao:[null,[s.kI.required,s.kI.minLength(2)]],setorId:[null,[s.kI.required]]})}ngOnInit(){super.ngOnInit(),this.buildServidorForm(),super.setForm(this.servidorForm),this.carregaSetores().subscribe(()=>{this.carregarServidor()})}}return o.\u0275fac=function(e){return new(e||o)(r.Y36(s.qu),r.Y36(q.q),r.Y36(Z.L),r.Y36(l.gz),r.Y36(l.F0))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-servidor-form"]],features:[r.qOj],decls:49,vars:30,consts:[[1,"mt-3","p-4","pb-3","pt-3","mb-5",2,"background-color","rgba(155,155,155,0.1)"],[1,"breadcrumb","m-0"],[1,"breadcrumb-item"],["routerLink","/"],["routerLink","/servidores"],[1,"breadcrumb-item","active"],[1,"row","m-0","p-0","mb-3"],[1,"col-12","col-md-6","p-0"],[1,"row","col-6","m-0"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"p-0",3,"formGroup","ngSubmit"],[1,"card"],[1,"card-body"],[1,"mb-3","row"],["for","id",1,"col-2","col-form-label"],[1,"col-2"],["type","text","formControlName","id","readonly","","id","id",1,"form-control",3,"value"],["for","nome",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["id","nome","type","text","formControlName","nome","placeholder","Exp: Fulano",1,"form-control",3,"ngClass"],[3,"fm","name","label"],["for","descricao",1,"col-sm-2","col-form-label"],["id","descricao","type","text","formControlName","descricao","placeholder","Exp: Pro-ativo e comunicativo",1,"form-control",3,"ngClass"],[1,"mb-12","row"],["for","setorId",1,"col-sm-2","col-form-label"],["id","setorId","formControlName","setorId",1,"form-select","form-select","mb-3",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","m-0","p-0"],["type","submit",1,"btn","align-self-center","w-auto","mt-3",3,"disabled","ngClass"],["routerLink","/servidores","type","button",1,"btn","w-auto","mt-3","btn-light","ms-2"],[1,"bi","bi-arrow-left"],["role","alert",1,"alert","alert-danger"],[4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(r.TgZ(0,"nav",0),r.TgZ(1,"ol",1),r.TgZ(2,"li",2),r.TgZ(3,"a",3),r._uU(4,"Home"),r.qZA(),r.qZA(),r.TgZ(5,"li",2),r.TgZ(6,"a",4),r._uU(7,"Servidores"),r.qZA(),r.qZA(),r.TgZ(8,"li",5),r._uU(9),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"div",6),r.TgZ(11,"div",7),r.TgZ(12,"h2"),r._uU(13),r.qZA(),r.qZA(),r.qZA(),r.TgZ(14,"div",8),r.YNc(15,F,2,1,"div",9),r.TgZ(16,"form",10),r.NdJ("ngSubmit",function(){return t.save()}),r.TgZ(17,"div",11),r.TgZ(18,"div",12),r.TgZ(19,"div",13),r.TgZ(20,"label",14),r._uU(21,"ID"),r.qZA(),r.TgZ(22,"div",15),r._UZ(23,"input",16),r.qZA(),r.qZA(),r.TgZ(24,"div",13),r.TgZ(25,"label",17),r._uU(26,"Nome *"),r.qZA(),r.TgZ(27,"div",18),r._UZ(28,"input",19),r._UZ(29,"app-error",20),r.qZA(),r.qZA(),r.TgZ(30,"div",13),r.TgZ(31,"label",21),r._uU(32,"Descri\xe7\xe3o *"),r.qZA(),r.TgZ(33,"div",18),r._UZ(34,"input",22),r._UZ(35,"app-error",20),r.qZA(),r.qZA(),r.TgZ(36,"div",23),r.TgZ(37,"label",24),r._uU(38,"Setor *"),r.qZA(),r.TgZ(39,"div",18),r.TgZ(40,"select",25),r.YNc(41,C,2,2,"option",26),r.qZA(),r._UZ(42,"app-error",20),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(43,"div",27),r.TgZ(44,"button",28),r._uU(45),r.qZA(),r.TgZ(46,"a",29),r._UZ(47,"i",30),r._uU(48," Voltar "),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(9),r.hij(" ",t.crumbTitle," "),r.xp6(4),r.hij(" ",t.pageTitle," servidor "),r.xp6(2),r.Q6J("ngIf",t.errors.length>0),r.xp6(1),r.Q6J("formGroup",t.servidorForm),r.xp6(7),r.Q6J("value",null==t.servidor?null:t.servidor.id),r.xp6(5),r.Q6J("ngClass",r.VKq(21,c,t.validations.validField("nome",t.servidorForm))),r.xp6(1),r.Q6J("fm",t.servidorForm)("name","nome")("label","nome"),r.xp6(5),r.Q6J("ngClass",r.VKq(23,c,t.validations.validField("descricao",t.servidorForm))),r.xp6(1),r.Q6J("fm",t.servidorForm)("name","descricao")("label","descricao"),r.xp6(5),r.Q6J("ngClass",r.VKq(25,c,t.validations.validField("setor",t.servidorForm))),r.xp6(1),r.Q6J("ngForOf",t.setores),r.xp6(1),r.Q6J("fm",t.servidorForm)("name","setorId")("label","setorId"),r.xp6(2),r.Q6J("disabled",t.submitForm||!t.servidorForm.valid)("ngClass",r.WLB(27,U,"new"==t.currentAction,"edit"==t.currentAction)),r.xp6(1),r.hij(" ",t.btnSubmit," "))},directives:[l.yS,d.O5,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,d.mk,h.q,s.EJ,d.sg,s.YN,s.Kr],styles:[""]}),o})();const _=[{path:"",component:f},{path:"new",component:p},{path:":id/edit",component:p}];let y=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[[l.Bz.forChild(_)],l.Bz]}),o})();var J=n(4466);let x=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[[d.ez,y,J.m]]}),o})()}}]);