"use strict";(self.webpackChunktenax=self.webpackChunktenax||[]).push([[288],{1532:(N,v,n)=>{n.r(v),n.d(v,{ServidoresModule:()=>Q});var d=n(8583),l=n(2955),Z=n(8002),f=n(9484),b=n(7519),T=n(3190),r=n(639),p=n(6800),i=n(665);const A=function(t){return[t,"edit"]};function q(t,s){if(1&t){const o=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r.TgZ(2,"strong"),r._uU(3),r.qZA(),r._UZ(4,"br"),r.TgZ(5,"small",18),r._uU(6),r.qZA(),r.qZA(),r.TgZ(7,"td",19),r.TgZ(8,"button",20),r.TgZ(9,"span",21),r._UZ(10,"i",22),r.qZA(),r.TgZ(11,"span",9),r._uU(12,"Editar"),r.qZA(),r.qZA(),r.TgZ(13,"button",23),r.NdJ("click",function(){const a=r.CHM(o).$implicit;return r.oxw().deleteServidor(a)}),r.TgZ(14,"span",21),r._UZ(15,"i",24),r.qZA(),r.TgZ(16,"span",9),r._uU(17,"Excluir"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const o=s.$implicit;r.xp6(3),r.AsE("",o.nome," - ",o.setor.descricao,""),r.xp6(3),r.Oqu(o.descricao),r.xp6(2),r.Q6J("routerLink",r.VKq(4,A,o.id))}}let h=(()=>{class t{constructor(o,e){this.servidorService=o,this.formBuilder=e}ngOnInit(){var o;this.servidorService.getAll().subscribe(e=>this.servidores=e,e=>console.log(e)),this.buildFormFilter(),null===(o=this.formFilter.get("nome-filter"))||void 0===o||o.valueChanges.pipe((0,Z.U)(e=>e.trim()),(0,f.b)(200),(0,b.x)(),(0,T.w)(e=>this.servidorService.findByNome(e))).subscribe(e=>{this.servidores=e})}deleteServidor(o){confirm("Deseja realmente excluir este Servidor ?")&&this.servidorService.delete(o.id).subscribe(()=>this.servidores=this.servidores.filter(e=>e!=o),()=>alert("Erro ao deletar servidor"))}buildFormFilter(){this.formFilter=this.formBuilder.group({"nome-filter":[null]})}}return t.\u0275fac=function(o){return new(o||t)(r.Y36(p.L),r.Y36(i.qu))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-servidores-list"]],decls:29,vars:2,consts:[[1,"mt-3","p-4","pb-3","pt-3","mb-3","mb-md-5",2,"background-color","rgba(155,155,155,0.1)"],[1,"breadcrumb","m-0"],[1,"breadcrumb-item"],["routerLink","/"],[1,"breadcrumb-item","active"],[1,"row","m-0","p-0","mb-3"],[1,"col-6","p-0"],[1,"col-6","p-0","d-flex","justify-content-end"],["routerLink","new","type","button",1,"btn","btn-success","align-self-center","d-flex"],[1,"d-none","d-sm-block"],[1,"m-0","p-0"],[3,"formGroup"],["formControlName","nome-filter","id","nome","type","text","placeholder","Exp: Fulano",1,"form-control"],[1,"table","table-hover"],[1,"bg-primary","text-white"],[1,"text-center"],[1,"border-top-0"],[4,"ngFor","ngForOf"],[1,"text-muted"],[1,"text-center","btn-actions"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"routerLink"],[1,"d-block","d-sm-none"],[1,"bi","bi-pencil-square"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"bi","bi-trash3-fill"]],template:function(o,e){1&o&&(r.TgZ(0,"nav",0),r.TgZ(1,"ol",1),r.TgZ(2,"li",2),r.TgZ(3,"a",3),r._uU(4,"Home"),r.qZA(),r.qZA(),r.TgZ(5,"li",4),r._uU(6," Servidores "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",5),r.TgZ(8,"div",6),r.TgZ(9,"h2"),r._uU(10," Servidores "),r.qZA(),r.qZA(),r.TgZ(11,"div",7),r.TgZ(12,"a",8),r._uU(13,"+ Novo \xa0"),r.TgZ(14,"span",9),r._uU(15,"servidor"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(16,"div",5),r.TgZ(17,"div",10),r.TgZ(18,"form",11),r._UZ(19,"input",12),r.qZA(),r.qZA(),r.qZA(),r.TgZ(20,"table",13),r.TgZ(21,"thead"),r.TgZ(22,"tr",14),r.TgZ(23,"th"),r._uU(24,"Servidor"),r.qZA(),r.TgZ(25,"th",15),r._uU(26,"A\xe7\xf5es"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(27,"tbody",16),r.YNc(28,q,18,6,"tr",17),r.qZA(),r.qZA()),2&o&&(r.xp6(18),r.Q6J("formGroup",e.formFilter),r.xp6(10),r.Q6J("ngForOf",e.servidores))},directives:[l.yS,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,d.sg,l.rH],styles:[""]}),t})();var F=n(1868),S=n(6067),U=n(3772);function C(t,s){if(1&t&&(r.TgZ(0,"li"),r._uU(1),r.qZA()),2&t){const o=s.$implicit;r.xp6(1),r.hij(" ",o.descricao," ")}}function x(t,s){if(1&t&&(r.TgZ(0,"div",32),r.YNc(1,C,2,1,"li",33),r.qZA()),2&t){const o=r.oxw();r.xp6(1),r.Q6J("ngForOf",o.errors)}}function y(t,s){if(1&t&&(r.TgZ(0,"option",34),r._uU(1),r.qZA()),2&t){const o=s.$implicit;r.Q6J("value",o.id),r.xp6(1),r.Oqu(o.descricao)}}const u=function(t){return{"is-invalid":t}},J=function(t,s){return{"btn-success":t,"btn-primary":s}};let g=(()=>{class t extends F.D{constructor(o,e,m,a,c){super(m,a,c),this.formBuilder=o,this.setorService=e,this.servidorService=m,this.route=a,this.router=c,super.setListPath("servidores")}carregaSetores(){return this.setorService.getAll().pipe((0,Z.U)(o=>{this.setores=o}))}carregarServidor(){super.load().subscribe(o=>{var e;this.servidor=o,this.servidorForm.patchValue(o),null===(e=this.servidorForm.get("setorId"))||void 0===e||e.setValue(o.setor.id)})}buildServidorForm(){this.servidorForm=this.formBuilder.group({id:[null],nome:[null,[i.kI.required,i.kI.minLength(2)]],descricao:[null,[i.kI.required,i.kI.minLength(2)]],setorId:[null,[i.kI.required]]})}ngOnInit(){super.ngOnInit(),this.buildServidorForm(),super.setForm(this.servidorForm),this.carregaSetores().subscribe(()=>{this.carregarServidor()})}}return t.\u0275fac=function(o){return new(o||t)(r.Y36(i.qu),r.Y36(S.q),r.Y36(p.L),r.Y36(l.gz),r.Y36(l.F0))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-servidor-form"]],features:[r.qOj],decls:49,vars:30,consts:[[1,"mt-3","p-4","pb-3","pt-3","mb-3","mb-md-5",2,"background-color","rgba(155,155,155,0.1)"],[1,"breadcrumb","m-0"],[1,"breadcrumb-item"],["routerLink","/"],["routerLink","/servidores"],[1,"breadcrumb-item","active"],[1,"row","m-0","p-0","mb-3"],[1,"col-12","col-md-6","p-0"],[1,"row","col-md-6","m-0"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"p-0",3,"formGroup","ngSubmit"],[1,"card"],[1,"card-body"],[1,"mb-3","d-flex","align-items-center"],["for","id",1,"me-3","me-sm-0","col-sm-2"],[2,"width","70px"],["type","text","formControlName","id","readonly","","id","id",1,"form-control","ms-1",3,"value"],[1,"mb-3","row"],["for","nome",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["id","nome","type","text","formControlName","nome","placeholder","Exp: Fulano",1,"form-control",3,"ngClass"],[3,"fm","name","label"],["for","descricao",1,"col-sm-2","col-form-label"],["id","descricao","type","text","formControlName","descricao","placeholder","Exp: Pro-ativo e comunicativo",1,"form-control",3,"ngClass"],[1,"mb-12","row"],["for","setorId",1,"col-sm-2","col-form-label"],["id","setorId","formControlName","setorId",1,"form-select","form-select","mb-3",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","m-0","p-0"],["type","submit",1,"btn","align-self-center","w-auto","mt-3",3,"disabled","ngClass"],["routerLink","/servidores","type","button",1,"btn","w-auto","mt-3","btn-light","ms-2"],[1,"bi","bi-arrow-left"],["role","alert",1,"alert","alert-danger"],[4,"ngFor","ngForOf"],[3,"value"]],template:function(o,e){1&o&&(r.TgZ(0,"nav",0),r.TgZ(1,"ol",1),r.TgZ(2,"li",2),r.TgZ(3,"a",3),r._uU(4,"Home"),r.qZA(),r.qZA(),r.TgZ(5,"li",2),r.TgZ(6,"a",4),r._uU(7,"Servidores"),r.qZA(),r.qZA(),r.TgZ(8,"li",5),r._uU(9),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"div",6),r.TgZ(11,"div",7),r.TgZ(12,"h2"),r._uU(13),r.qZA(),r.qZA(),r.qZA(),r.TgZ(14,"div",8),r.YNc(15,x,2,1,"div",9),r.TgZ(16,"form",10),r.NdJ("ngSubmit",function(){return e.save()}),r.TgZ(17,"div",11),r.TgZ(18,"div",12),r.TgZ(19,"div",13),r.TgZ(20,"label",14),r._uU(21,"ID"),r.qZA(),r.TgZ(22,"div",15),r._UZ(23,"input",16),r.qZA(),r.qZA(),r.TgZ(24,"div",17),r.TgZ(25,"label",18),r._uU(26,"Nome *"),r.qZA(),r.TgZ(27,"div",19),r._UZ(28,"input",20),r._UZ(29,"app-error",21),r.qZA(),r.qZA(),r.TgZ(30,"div",17),r.TgZ(31,"label",22),r._uU(32,"Descri\xe7\xe3o *"),r.qZA(),r.TgZ(33,"div",19),r._UZ(34,"input",23),r._UZ(35,"app-error",21),r.qZA(),r.qZA(),r.TgZ(36,"div",24),r.TgZ(37,"label",25),r._uU(38,"Setor *"),r.qZA(),r.TgZ(39,"div",19),r.TgZ(40,"select",26),r.YNc(41,y,2,2,"option",27),r.qZA(),r._UZ(42,"app-error",21),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(43,"div",28),r.TgZ(44,"button",29),r._uU(45),r.qZA(),r.TgZ(46,"a",30),r._UZ(47,"i",31),r._uU(48," Voltar "),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&o&&(r.xp6(9),r.hij(" ",e.crumbTitle," "),r.xp6(4),r.hij(" ",e.pageTitle," servidor "),r.xp6(2),r.Q6J("ngIf",e.errors.length>0),r.xp6(1),r.Q6J("formGroup",e.servidorForm),r.xp6(7),r.Q6J("value",null==e.servidor?null:e.servidor.id),r.xp6(5),r.Q6J("ngClass",r.VKq(21,u,e.validations.validField("nome",e.servidorForm))),r.xp6(1),r.Q6J("fm",e.servidorForm)("name","nome")("label","nome"),r.xp6(5),r.Q6J("ngClass",r.VKq(23,u,e.validations.validField("descricao",e.servidorForm))),r.xp6(1),r.Q6J("fm",e.servidorForm)("name","descricao")("label","descricao"),r.xp6(5),r.Q6J("ngClass",r.VKq(25,u,e.validations.validField("setor",e.servidorForm))),r.xp6(1),r.Q6J("ngForOf",e.setores),r.xp6(1),r.Q6J("fm",e.servidorForm)("name","setorId")("label","setorId"),r.xp6(2),r.Q6J("disabled",e.submitForm||!e.servidorForm.valid)("ngClass",r.WLB(27,J,"new"==e.currentAction,"edit"==e.currentAction)),r.xp6(1),r.hij(" ",e.btnSubmit," "))},directives:[l.yS,d.O5,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,d.mk,U.q,i.EJ,d.sg,i.YN,i.Kr],styles:[""]}),t})();const L=[{path:"",component:h},{path:"new",component:g},{path:":id/edit",component:g}];let I=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[l.Bz.forChild(L)],l.Bz]}),t})();var _=n(4466);let Q=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[d.ez,I,_.m]]}),t})()}}]);